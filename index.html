<!-- index.html -->
<!DOCTYPE html>
<html>
<body>
    <script src="https://cdn.jsdelivr.net/npm/@assemblyscript/loader/umd/index.js"></script>
    <div id="main"></div>
    <script src="/js/loader.js"></script>
    <script>
      const WL = new WasmLoader();
      WL.wasm('/build/optimized.wasm')
        .then(instance => {
            const { fizzbuzz, __getString } = instance
            // __getString - helper from the lib
            // because just fizzbuzz(3) would return a
            // POINTER to the start of the MEMORY CHUNK
            const str = __getString(fizzbuzz(3))
            document.write(str)
        })
    </script>
</body>
</html>
